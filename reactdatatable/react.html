<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Data Athletics</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>

  <!-- React -->
  <script src="https://unpkg.com/react@18.2.0/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18.2.0/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- FontAwesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/awjax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

  <!-- CSS Stylesheet -->
  <link rel="stylesheet" href="MobileNarrativestyling.css">

  <!-- React.js Component -->
  <script src="ReactDataTable.js" type="text/babel"></script>

  <!-- D3.js -->
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/d3-cloud@1.2.5/build/d3.layout.cloud.min.js"></script>
</head>

<body>
  <nav>
    <a href="#" class="logo">AthleMark</a>
    <div class="menu-toggle">&#9776;</div>
    <ul>
      <li><a href="#react-data-table">ReactDataTable</a></li>
      <li><a href="#bubble-chart-section">Bubble Chart</a></li>
      <li><a href="#Map">Choropleth Map</a></li>
      <li><a href="#WordCloud">Word Cloud</a></li>
    </ul>
  </nav>
  <!-- Paragraphs-->

  <div>
    <h2>Why?</h2>
    <p>My topic is about Olympics and the relationship between countries and their medals distribution proportion
      I selected this because I am interested in the topic itself and it has good numerical datasets like medals and
      olympians etc that is awesome to
      do my mobile narrative on. I wanted to answer the distribution of medals and map it to the population of a
      country.
      I wanted to do this also because I might want to develop it further or create something similar
      on my own project. I would like to further have a feature where you can compare stats with athletes performance
      in the olympics in the same category. This way we can have consistent knowledge about an athletes olympic records
      and consistent performance.
      I used the bubble chart graph to visualize that data and see the trends.I like this bubble graph because you can see
      the countries as bubbles and it helps it take shape instead of abstract ideas. It shows population size through
      the size of the bubble kind of like the agar.io game if you have played it.
    </p>For my data I used Wikipedia, especially the ranking by total medals in Winter and Summer in Olympics.
      I used multiple sources to match the datasets for the medal count. It does not include Paris Olympics records.
      I included countries which was disbanded and connected it. There were definetly some inconsistenies amongst the data
      especially regarding country political states and dismemberment of regimes and empires. But I managed to get a 
      reliable number based on the previous records and sources.
    <p>It could be deduced from the data visuals in that the country with the most success is USA, followed by China, France, Japan
      etc. However you would think the countries with high population would always dominate but the USA outweighs
      them by more than 2 times the medals but more than half the population when compared to India and China. Countries like Jamaica
      has high medal production despite being only 2.8 million in population.I can further it by ranking them based on
      pure efficeincy standpoint per person. Maybe ranking by continent and specific sports as well. 
    <p>

    </p>

    </p>
  </div>
  <div>
    <p>

    </p>
  </div>
  <!-- React Data Table section-->
  <section id="react-data-table" class="section-container">
    <h1>React Data Table</h1>
    <div class="table-responsive">
      <div id="react-data-table-container"></div>
    </div>
  </section>

  <h2 class="fa-solid fa-futbol"></h2>

  <!-- Bubble Chart section -->
  <section id="bubble-chart-section" class="section-container">
    <h2>Bubble Chart</h2>
    <p>This chart represents the relationship between population and medals earned by countries.</p>
    <div id="bubble-chart"></div>
  </section>

  <h2 class="fa-solid fa-medal"></h2>

  <!-- Choropleth Map section-->
  <section id="Map" class="section-container">
    <h2>Choropleth Map</h2>
    <p>This map represents the medal distribution of countries.</p>
    <div id="choropleth-map"></div>
  </section>

  <h2 class="fa-regular fa-futbol"></h2>

  <!-- WordCloud Map section-->
  <section id="WordCloud" class="section-container">
    <h2>Word Cloud</h2>
    <p>This word cloud shows the most popular sports in the Olympics.</p>
    <div id="olympic_wordcloud"></div>
  </section>

  <h1 class="fa-solid fa-trophy" class="anim"></h1>

  <!-- Image section-->
  <div class="image-container">
    <img src="Jesse Owens.jpg" alt="Sprinter Jesse Owens running" class="image">
    <div class="image-description">
      <h3>Jesse Owens</h3>
      <p>I like this picture because of the explosive stance of the athlete as well
        as him changing the world of sprinting .</p>
    </div>
  </div>

  <!-- Favorite moments section-->
  <h2 class="section-title">Moments in the Olympics</h2>

  <div class="notable-moments">
    <div class="moment">
      <img src="olympic proposal.jpg"
        alt="Team China diver proposes to silver medalist He Zi of China on the medal ceremony, Rio 2016">
      <div class="description">
        <h3>An Olympic Proposal</h3>
        <p>Wholesome moment of Team China's athletes proposing on the medal ceremony.</p>
      </div>
    </div>

    <div class="moment">
      <img src="Turkish shooter.jpg"
        alt="Turkish silver medalist pistol marksmen Yusuf Dikeç holding the Turkish flag above his head">
      <div class="description">
        <h3> The nonchalant marksmen</h3>
        <p> Yusuf Dikeç, Turkish marksmen won silver medal in the Paris Olympics hands in pocket and no glasses. So much
          Aura.</p>
      </div>
    </div>

    <div class="moment">
      <img src="Snoop Dogg.jpg" alt="Rapper Snoop Dogg under umbrella representing team USA in Paris Olympics"
        class="anim">
      <div class="description">
        <h3>Snoop Dogg</h3>
        <p>Snoop Doggy, Dogg (yeah, yeah, yeah)
          Snoop Doggy, Dogg (the bomb)
          Da-da-da-da-dah
          Do-do-do-do, doo-doo-doo-da-dah (Dogg)</p>
      </div>
    </div>
    <div class="video-section">
      <h2 class="section-title">Olympic Highlights Video</h2>

      <div class="video-container">
        <!-- Embed the video here, for example from YouTube -->
        <iframe src="https://www.youtube.com/embed/VbJhFmtKvaQ?list=PL_vkVwrwck3NJ9ajMQv7Y-DfX9gVAk5in"
          title="Olympic Breakdancing" frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen></iframe>
      </div>

      <div class="video-description">
        <h3 class="video-title">How to do a triceps pushups</h3>
        <p>How to do a perfect pushup video demonstration</p>
      </div>
    </div>


  </div>




  <!-- Bubble Chart Script -->
  <script>
    // Set the dimensions and margins of the graph
    var margin = { top: 10, right: 20, bottom: 30, left: 50 },
      width = 1000 - margin.left - margin.right,
      height = 620 - margin.top - margin.bottom;

    // Append the svg object to the body of the page
    var svgBubble = d3.select("#bubble-chart")
      .append("svg")
      .attr("width", width + margin.left + margin.right)
      .attr("height", height + margin.top + margin.bottom)
      .append("g")
      .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

    d3.csv("https://raw.githubusercontent.com/Uskuugen/Uskuugen.github.io/refs/heads/main/Bubble.csv")
      .then(function (data) {
        data.forEach(d => {
          d.medals = +d.medals;
          d.population = +d.population;
        });

        // Add axes and scales
        var x = d3.scaleLinear().domain([1, 3000]).range([0, width]);
        svgBubble.append("g").attr("transform", "translate(0," + height + ")").call(d3.axisBottom(x));

        var y = d3.scaleLinear().domain([0, 1500000000]).range([height, 0]);
        svgBubble.append("g").call(d3.axisLeft(y));

        var z = d3.scaleLinear().domain([1, 3000]).range([4, 40]);
        var myColor = d3.scaleOrdinal().domain(["Asia", "Europe", "Americas", "Africa", "Oceania"]).range(d3.schemeSet2);

        var tooltip = d3.select("#bubble-chart").append("div").attr("class", "tooltip").style("opacity", 0);

        var showTooltip = function (event, d) {
          tooltip.style("opacity", 1)
            .html("Country: " + d.country + "<br>Medals: " + d.medals + "<br>Population: " + d.population)
            .style("left", (event.pageX + 30) + "px")
            .style("top", (event.pageY + 30) + "px");
        };

        var hideTooltip = function () {
          tooltip.style("opacity", 0);
        };

        svgBubble.append('g').selectAll("circle").data(data).enter()
          .append("circle")
          .attr("cx", d => x(d.medals))
          .attr("cy", d => y(d.population))
          .attr("r", d => z(d.medals))
          .style("fill", d => myColor(d.continent))
          .on("mouseover", showTooltip)
          .on("mouseleave", hideTooltip);
      });
  </script>
  <!-- Choropleth Map Script -->
  <script>
    const svg = d3.select("#choropleth-map").append("svg").attr("width", 800).attr("height", 500);

    const projection = d3.geoMercator().scale(130).center([0, 20]).translate([400, 250]);
    const path = d3.geoPath().projection(projection);

    const data = new Map();
    const colorScale = d3.scaleThreshold().domain([0, 1, 10, 50, 100, 500, 1000, 1500]).range(d3.schemeBlues[9]);

    const tooltipMap = d3.select("#choropleth-map").append("div").attr("class", "tooltip").style("opacity", 0);

    Promise.all([
      d3.json("https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/world.geojson"),
      d3.csv("https://raw.githubusercontent.com/Uskuugen/Uskuugen.github.io/refs/heads/main/world.csv", d => {
        data.set(d.code, +d.medals);
      })
    ]).then(([geojson]) => {
      svg.append("g").selectAll("path").data(geojson.features).enter()
        .append("path")
        .attr("d", path)
        .attr("fill", d => {
          const value = data.get(d.id) || 0;
          return value > 0 ? colorScale(value) : "#ccc";
        })
        .style("stroke", "transparent")
        .on("mouseover", (event, d) => {
          tooltipMap.style("opacity", 1)
            .html("Country: " + d.properties.name + "<br>Medals: " + (data.get(d.id) || 0))
            .style("left", (event.pageX + 10) + "px")
            .style("top", (event.pageY + 10) + "px");
        })
        .on("mouseleave", () => tooltipMap.style("opacity", 0));
    });
  </script>

  <!-- WordCloud script-->
  <script>
    // Example dataset for medal counts for sports
    var sportData = [
      { sport: "Athletics", medals: 3000 },
      { sport: "Swimming", medals: 2500 },
      { sport: "Gymnastics", medals: 2200 },
      { sport: "Cycling", medals: 2000 },
      { sport: "Shooting", medals: 1800 },
      { sport: "Rowing", medals: 1600 },
      { sport: "Boxing", medals: 1400 },
      { sport: "Fencing", medals: 1300 },
      { sport: "Wrestling", medals: 1200 },
      { sport: "Judo", medals: 1100 },
      { sport: "Archery", medals: 900 },
      { sport: "Sailing", medals: 800 },
      { sport: "Skating", medals: 750 },
      { sport: "Snowboarding", medals: 500 }
    ];

    // Set dimensions and margins
    var margin = { top: 10, right: 10, bottom: 10, left: 10 },
      width = 500 - margin.left - margin.right,
      height = 500 - margin.top - margin.bottom;

    // Append SVG container
    var sv = d3.select("#olympic_wordcloud")
      .append("svg")
      .attr("width", width + margin.left + margin.right)
      .attr("height", height + margin.top + margin.bottom)
      .append("g")
      .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

    // Configure word cloud layout
    var layout = d3.layout.cloud()
      .size([width, height])
      .words(sportData.map(function (d) {
        return { text: d.sport, size: Math.sqrt(d.medals) / 2 }; // Adjust size scaling
      }))
      .padding(5)
      .rotate(function () { return ~~(Math.random() * 2) * 90; }) // Rotate words randomly
      .fontSize(function (d) { return d.size; })
      .on("end", draw);
    layout.start();

    // Draw the word cloud
    function draw(words) {
      sv.append("g")
        .attr("transform", "translate(" + layout.size()[0] / 2 + "," + layout.size()[1] / 2 + ")")
        .selectAll("text")
        .data(words)
        .enter()
        .append("text")
        .style("font-size", function (d) { return d.size + "px"; })
        .style("fill", function () {
          return d3.schemeCategory10[Math.floor(Math.random() * d3.schemeCategory10.length)];
        }) // Random colors
        .attr("text-anchor", "middle")
        .style("font-family", "Impact")
        .attr("transform", function (d) {
          return "translate(" + [d.x, d.y] + ")rotate(" + d.rotate + ")";
        })
        .text(function (d) { return d.text; });
    }
  </script>

</body>

</html>